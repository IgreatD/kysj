(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-aa66ab24"],{"1f92":function(t,e,a){},"39dc":function(t,e,a){"use strict";var s=a("1f92");a.n(s).a},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"7abe":function(t,e,a){"use strict";a.r(e);var s=a("d225"),r=a("b0b4"),i=a("308d"),n=a("6bb5"),o=a("4e2b"),c=a("9ab4"),l=a("60a3"),u=a("0e30"),h=(a("96cf"),a("3b8d")),d=a("54c5"),p=a("2ef0"),b=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(i.a)(this,Object(n.a)(e).apply(this,arguments))).chart=void 0,t.sidebarElm=void 0,t.resizeHandler=null,t}return Object(o.a)(e,t),Object(r.a)(e,[{key:"created",value:function(){var t=this;this.autoResize&&(this.resizeHandler=Object(p.debounce)((function(){t.chart&&t.chart.resize()}),100),window.addEventListener("resize",this.resizeHandler)),this.sidebarElm=document.getElementsByClassName("ky-layout__sidar")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)}},{key:"initCharts",value:function(){this.chart=window.echarts.init(document.getElementById(this.id),"macarons")}},{key:"beforeDestroy",value:function(){window.removeEventListener("resize",this.resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler),this.chart&&(this.chart.dispose(),this.chart=null)}},{key:"sidebarResizeHandler",value:function(t){"width"===t.propertyName&&this.resizeHandler()}}]),e}(l.g);Object(c.a)([Object(l.d)({default:Math.random()*Date.now()})],b.prototype,"id",void 0),Object(c.a)([Object(l.d)({default:"100%"})],b.prototype,"width",void 0),Object(c.a)([Object(l.d)({default:"350px"})],b.prototype,"height",void 0),Object(c.a)([Object(l.d)({default:!0})],b.prototype,"autoResize",void 0);var f=b=Object(c.a)([l.a],b),m=a("2877"),v=Object(m.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{width:this.width,height:this.height},attrs:{id:this.id}})}),[],!1,null,null,null).exports,y=a("9c8d"),O=a("9e59"),g=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(i.a)(this,Object(n.a)(e).apply(this,arguments))).chartData={students:[],teachers:[],sellers:[],all:[]},t}var a;return Object(o.a)(e,t),Object(r.a)(e,[{key:"mounted",value:function(){this.getData()}},{key:"getData",value:(a=Object(h.a)(regeneratorRuntime.mark((function t(){var e,a,s,r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=Object(O.c)(O.b.REGISTER,O.a.DAY))){t.next=5;break}this.chartData=e,t.next=14;break;case 5:a=0,s=["360","180","90","30","7","2"];case 7:if(!(a<s.length)){t.next=14;break}return r=s[a],t.next=11,this.http({url:y.a.getAccountStatistics,data:{days:r||"1",pageIndex:0,pageSize:1}}).then((function(t){var e=t.data;i.chartData.students.push(e.studentCount),i.chartData.teachers.push(e.teacherCount),i.chartData.sellers.push(e.sellerCount),i.chartData.all.push(e.sellerCount+e.studentCount+e.teacherCount),Object(O.d)(O.b.REGISTER,i.chartData)}));case 11:a++,t.next=7;break;case 14:this.charts.initCharts(),this.setOptions();case 16:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setOptions",value:function(){this.charts.chart.setOption({color:"#409EFF",xAxis:{data:["一年","半年","三月","一月","一周","昨天"],boundaryGap:!1,axisTick:{show:!1}},grid:{containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["学生","教师","业务员","全部"]},series:[{name:"学生",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:this.chartData.students,animationDuration:2e3,animationEasing:"cubicInOut"},{name:"业务员",itemStyle:{normal:{color:"#E6A23C",lineStyle:{color:"#E6A23C",width:2}}},smooth:!0,type:"line",data:this.chartData.sellers,animationDuration:2e3,animationEasing:"cubicInOut"},{name:"教师",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.chartData.teachers,animationDuration:2e3,animationEasing:"quadraticOut"},{name:"全部",smooth:!0,type:"line",itemStyle:{normal:{color:"#67C23A",lineStyle:{color:"#67C23A",width:2},areaStyle:{color:"#f3f8ff"}}},data:this.chartData.all,animationDuration:2e3,animationEasing:"quadraticOut"}]})}}]),e}(Object(l.c)(d.a));Object(c.a)([Object(l.f)()],g.prototype,"charts",void 0);var j=g=Object(c.a)([Object(l.a)({components:{BaseCharts:v}})],g),C=Object(m.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[this._v("注册用户数")])]),this._v(" "),e("base-charts",{ref:"charts",attrs:{id:"id-ky-charts"}})],1)}),[],!1,null,null,null).exports,w=a("4601"),x=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(i.a)(this,Object(n.a)(e).apply(this,arguments))).shareCount=[],t.shareTopList=[],t.topTeacherCount={},t.rowHeader=[{label:"打开次数",prop:"openNum",width:120},{label:"手机号码",prop:"userName"},{label:"昵称",prop:"name"},{label:"招生人数",prop:"recruitStudentsCount",width:120},{label:"推广人数",prop:"spreadCount",width:120}],t}var a;return Object(o.a)(e,t),Object(r.a)(e,[{key:"mounted",value:function(){this.getData(),this.getTopClassStatistics()}},{key:"jump",value:function(t){this.$router.push({name:"LmSignPay",query:{name:t?"sign":"pay",url:t?y.a.getSignInStudentList:y.a.getPayStudentList}})}},{key:"getTopClassStatistics",value:function(){var t=this;this.http({url:y.a.getTopClassStatistics}).then((function(e){var a=e.data;t.topTeacherCount=a.data}))}},{key:"getData",value:(a=Object(h.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http({url:y.a.getWxShare,data:{}}).then((function(t){var a=t.data;a=a.data,e.shareCount[0]={name:"公众号",value:a.wxPublicNumberCount},e.shareCount[1]={name:"二维码",value:a.wxQrcodeCount},e.shareCount[2]={name:"链接",value:a.wxReferrLinkCount},e.shareCount[3]={name:"其他",value:a.otherCount},e.shareTopList=a.mostHotPerson}));case 2:this.charts.initCharts(),this.setOptions();case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"setOptions",value:function(){this.charts.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["二维码","公众号","链接","其他"]},series:[{name:"访问来源",itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},type:"pie",radius:"55%",center:["50%","60%"],data:this.shareCount}]})}}]),e}(Object(l.c)(d.a));Object(c.a)([Object(l.f)()],x.prototype,"charts",void 0);var k=x=Object(c.a)([Object(l.a)({components:{BaseCharts:v,BaseTable:w.a}})],x),_=(a("e5c4"),Object(m.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",[a("span",{attrs:{slot:"header"},slot:"header"},[t._v("龙门课堂首页 - 用户访问来源")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("base-charts",{ref:"charts",attrs:{id:"id-lm-charts",width:"50%",height:"250px"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",{staticClass:"lm-card"},[a("div",{staticClass:"lm-card-flex",on:{click:function(e){return t.jump(!0)}}},[a("base-svg",{staticStyle:{"font-size":"22px"},attrs:{"icon-class":"baomingshuju"}}),t._v(" "),a("div",[a("span",[t._v("报名")]),t._v(" "),a("span",{staticClass:"lm-card-flex--active"},[t._v(t._s(t.topTeacherCount.topClassSignCount||0))])])],1)]),t._v(" "),a("el-card",{staticClass:"lm-card"},[a("div",{staticClass:"lm-card-flex",on:{click:function(e){return t.jump(!1)}}},[a("base-svg",{staticStyle:{"font-size":"22px"},attrs:{"icon-class":"payment"}}),t._v(" "),a("div",[a("span",[t._v("支付")]),t._v(" "),a("span",{staticClass:"lm-card-flex--active"},[t._v(t._s(t.topTeacherCount.topClassPayCount||0))])])],1)])],1)],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-card",[a("span",{attrs:{slot:"header"},slot:"header"},[t._v("活跃推广员用户(取前3名)")]),t._v(" "),a("base-table",{staticStyle:{height:"250px"},attrs:{"table-data":t.shareTopList,"row-header":t.rowHeader}})],1)],1)],1)}),[],!1,null,"2806fe6f",null).exports),S=a("21d1"),E=function(t){function e(){return Object(s.a)(this,e),Object(i.a)(this,Object(n.a)(e).apply(this,arguments))}return Object(o.a)(e,t),Object(r.a)(e,[{key:"title",get:function(){return"欢迎来到".concat(u.a.title)}},{key:"isOrgan",get:function(){return S.a.auth&&S.a.auth.organizationId}}]),e}(l.g),D=E=Object(c.a)([Object(l.a)({components:{KyRegister:C,LmRegister:_}})],E),z=(a("39dc"),Object(m.a)(D,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home"},[this.isOrgan?[e("h3",[this._v(this._s(this.title))])]:[e("lm-register",{staticStyle:{"margin-bottom":"20px"}}),this._v(" "),e("ky-register")]],2)}),[],!1,null,"b459b4ea",null));e.default=z.exports},9497:function(t,e,a){},e5c4:function(t,e,a){"use strict";var s=a("9497");a.n(s).a}}]);